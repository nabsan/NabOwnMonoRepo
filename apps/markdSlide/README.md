# markdSlide

📊 **Markdownを使用したプレゼンテーションアプリ**

markdSlideは、Markdownでスライドを作成し、Webブラウザで美しいプレゼンテーションを実行できるFlaskアプリケーションです。

## ✨ 主な機能

### 📝 Markdown編集
- **リアルタイムプレビュー**: 入力と同時にスライドを確認
- **ファイル保存・読み込み**: `.md`ファイルの保存と読み込み対応
- **サンプルコンテンツ**: すぐに始められるサンプル付き

### 🎬 プレゼンテーション機能
- **全画面表示対応**: `F`キーで全画面切り替え
- **スライド移動**: 矢印キーで前後のスライドに移動
- **自動タイマー**: 各スライドに時間設定可能
- **ボーナスタイム**: 余った時間を次のスライドに繰り越し
- **プログレスバー**: 現在の進行状況を表示

### 🌙 テーマ機能
- **ダーク/ライトテーマ**: ワンクリックでテーマ切り替え
- **設定保存**: ローカルストレージで設定を記憶
- **美しいアニメーション**: スムーズなテーマ切り替え

### 📄 PDF出力（NEW!）
- **日本語完全対応**: Windows/macOS/Linux/WSLで日本語フォント自動検出
- **高品質出力**: ReportLabを使用した美しいPDF生成
- **Markdown構造保持**: 見出し、リスト、強調表示などを適切に変換
- **スライド情報付与**: スライド番号と設定時間を自動付与

### 🎨 高度な機能
- **美しいトランジション**: CSS3アニメーション
- **レスポンシブデザイン**: モバイル・タブレット対応
- **ショートカットキー**: 快適な操作性
- **効果音対応**: スライド切り替え音（オプション）

## 🚀 セットアップ

### 必要要件
- Python 3.7+
- Flask
- Markdown
- ReportLab (PDF出力用)

### インストール

1. **リポジトリのクローン**
```bash
git clone https://github.com/nabsan/NabOwnMonoRepo.git
cd NabOwnMonoRepo/apps/markdSlide
```

2. **依存関係のインストール**
```bash
pip install -r requirements.txt
```

3. **アプリケーションの起動**
```bash
python app.py
```

4. **ブラウザでアクセス**
```
http://localhost:5000
```

## 📖 使用方法

### Markdownの書き方

#### スライド区切り
```markdown
---
```
3つのハイフンでスライドを区切ります。

#### タイミング設定
```markdown
<!-- timing: 120 -->
```
コメント形式でスライドの表示時間（秒）を設定できます。

#### 基本的なMarkdown記法
```markdown
# メインタイトル (H1)
## サブタイトル (H2)
### 小見出し (H3)

- リストアイテム1
- リストアイテム2

**太字テキスト**

通常のテキスト
```

### サンプルスライド
```markdown
# 私のプレゼンテーション
<!-- timing: 90 -->

## 概要
このプレゼンテーションでは以下について説明します：
- ポイント1
- ポイント2
- ポイント3

---

## 詳細説明
<!-- timing: 120 -->

### 重要なポイント
**ここが重要です**

詳細な説明がここに入ります。

---

## まとめ
<!-- timing: 60 -->

今日お話しした内容：
1. 第一のポイント
2. 第二のポイント
3. 第三のポイント

ありがとうございました！
```

### 操作方法

#### エディターモード
1. 左側のエディターにMarkdownを入力
2. 右側でリアルタイムプレビュー確認
3. 🌙ボタンでダーク/ライトテーマ切り替え
4. 📄ボタンでPDF出力
5. 💾ボタンでファイル保存
6. 📁ボタンでファイル読み込み
7. 🎬ボタンでプレゼンテーション開始

#### プレゼンテーションモード
- **矢印キー（←/→）**: 前/次のスライドに移動
- **Fキー**: 全画面表示の切り替え
- **ESCキー**: プレゼンテーションモードを終了

#### タイマー機能
- 各スライドに設定された時間でカウントダウン
- 時間が余った場合は次のスライドにボーナスタイムとして繰り越し
- 画面右上にタイマーとボーナスタイム表示
- 時間オーバー時は赤色で警告表示

## ⌨️ ショートカットキー

### エディター画面
| キー | 動作 |
|------|------|
| `Ctrl+S` | ファイル保存 |

### プレゼンテーション画面
| キー | 動作 |
|------|------|
| `F` | 全画面表示切り替え |
| `←` / `A` | 前のスライド |
| `→` / `D` | 次のスライド |
| `ESC` | プレゼンテーション終了 |

## 🎯 機能詳細

### タイマー機能
- 各スライドに個別の時間設定可能
- 画面右上にタイマー表示
- 時間が余った場合はボーナスタイムとして次のスライドに加算
- 時間オーバー時は赤色で警告表示

### ボーナスタイム
前のスライドで余った時間は「+●秒使えます」として表示され、現在のスライドの持ち時間に加算されます。

### ファイル管理
- **保存**: 現在のMarkdownをローカルファイルとして保存
- **読み込み**: `.md`ファイルをアップロードして編集
- **自動保存**: ブラウザのローカルストレージに内容を保存

### PDF出力
- 各スライドが個別のページとして出力
- スライド番号と設定時間を自動付与
- Markdown構造（見出し、リスト、強調）を適切に変換
- クロスプラットフォーム日本語フォント対応

## 🔧 技術仕様

### フロントエンド
- **HTML5**: セマンティックな構造
- **CSS3**: 美しいアニメーションとレスポンシブデザイン
- **JavaScript**: インタラクティブな機能とキーボードサポート

### バックエンド
- **Flask**: 軽量なWebフレームワーク
- **Python-Markdown**: Markdown → HTML変換
- **ReportLab**: 高品質PDF生成

### 対応プラットフォーム
- **Windows**: WSL対応、Windowsフォント自動検出
- **macOS**: ヒラギノフォント対応
- **Linux**: Noto Sans CJK対応

## 📁 ディレクトリ構成

```
markdSlide/
├── app.py                  # Flaskアプリケーション
├── requirements.txt        # 依存関係
├── README.md              # このファイル
├── templates/
│   └── index.html         # メインHTMLテンプレート
├── static/
│   ├── css/
│   │   └── style.css      # スタイルシート（ダークテーマ対応）
│   ├── js/
│   │   └── app.js         # JavaScriptアプリケーション
│   └── sounds/
│       └── slide.mp3      # スライド切り替え効果音
└── uploads/               # 保存されたファイル
```

## 🎨 カスタマイズ

### テーマのカスタマイズ
`static/css/style.css`を編集してテーマをカスタマイズできます。

### フォントの追加
`register_japanese_font()`関数でサポートするフォントを追加できます。

### スライドエフェクトの変更
`static/js/app.js`でトランジション効果をカスタマイズできます。

## 🐛 トラブルシューティング

### PDF出力で文字化けが発生する場合
1. システムに日本語フォントがインストールされているか確認
2. 以下のフォントのいずれかがインストールされているか確認：
   - Windows: Meiryo, MS Gothic, Yu Gothic
   - macOS: ヒラギノ角ゴシック
   - Linux: Noto Sans CJK

### プレゼンテーション画面が表示されない場合
1. JavaScriptが有効になっているか確認
2. ブラウザの開発者ツールでエラーがないか確認

## 📝 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 コントリビュート

プルリクエストやイシューの報告を歓迎します！

## 📞 サポート

問題が発生した場合は、GitHubのIssuesページでご報告ください。

---

**markdSlide** - 美しいプレゼンテーションを、Markdownで。